-- --------------------------------------------------------
-- Host:                         127.0.0.1
-- Server version:               5.5.50 - MySQL Community Server (GPL)
-- Server OS:                    Win32
-- HeidiSQL Version:             10.3.0.5771
-- --------------------------------------------------------

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET NAMES utf8 */;
/*!50503 SET NAMES utf8mb4 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;


-- Dumping database structure for logistics
DROP DATABASE IF EXISTS `logistics`;
CREATE DATABASE IF NOT EXISTS `logistics` /*!40100 DEFAULT CHARACTER SET latin1 */;
USE `logistics`;

-- Dumping structure for table logistics.cart
CREATE TABLE IF NOT EXISTS `cart` (
  `mob_no` varchar(10) NOT NULL,
  `prod_id` int(4) NOT NULL,
  `qty` int(4) DEFAULT NULL,
  `amount` double DEFAULT NULL,
  PRIMARY KEY (`mob_no`,`prod_id`),
  KEY `FK_cart_products` (`prod_id`),
  CONSTRAINT `FK_cart_products` FOREIGN KEY (`prod_id`) REFERENCES `products` (`prod_id`),
  CONSTRAINT `FK_cart_users` FOREIGN KEY (`mob_no`) REFERENCES `users` (`mobile_no`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- Dumping data for table logistics.cart: ~0 rows (approximately)
DELETE FROM `cart`;
/*!40000 ALTER TABLE `cart` DISABLE KEYS */;
/*!40000 ALTER TABLE `cart` ENABLE KEYS */;

-- Dumping structure for table logistics.completed_orders
CREATE TABLE IF NOT EXISTS `completed_orders` (
  `mob_no` varchar(10) DEFAULT NULL,
  `prod_id` int(4) DEFAULT NULL,
  `qty` int(4) DEFAULT NULL,
  `unit_id` int(2) DEFAULT NULL,
  `is_delivered` int(1) DEFAULT '1',
  `order_id` int(11) DEFAULT NULL,
  `amount` double DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- Dumping data for table logistics.completed_orders: ~0 rows (approximately)
DELETE FROM `completed_orders`;
/*!40000 ALTER TABLE `completed_orders` DISABLE KEYS */;
/*!40000 ALTER TABLE `completed_orders` ENABLE KEYS */;

-- Dumping structure for table logistics.live_orders
CREATE TABLE IF NOT EXISTS `live_orders` (
  `mob_no` varchar(10) NOT NULL,
  `prod_id` int(4) NOT NULL,
  `qty` int(4) DEFAULT NULL,
  `status` varchar(5) DEFAULT NULL,
  `amount` double DEFAULT NULL,
  `order_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`mob_no`,`prod_id`),
  KEY `FK_live_orders_products` (`prod_id`),
  CONSTRAINT `FK_live_orders_products` FOREIGN KEY (`prod_id`) REFERENCES `products` (`prod_id`),
  CONSTRAINT `FK_live_orders_users` FOREIGN KEY (`mob_no`) REFERENCES `users` (`mobile_no`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- Dumping data for table logistics.live_orders: ~0 rows (approximately)
DELETE FROM `live_orders`;
/*!40000 ALTER TABLE `live_orders` DISABLE KEYS */;
/*!40000 ALTER TABLE `live_orders` ENABLE KEYS */;

-- Dumping structure for table logistics.measuring_units
CREATE TABLE IF NOT EXISTS `measuring_units` (
  `unit_id` int(2) NOT NULL,
  `name` varchar(5) NOT NULL DEFAULT '',
  `desc` varchar(50) NOT NULL DEFAULT '',
  PRIMARY KEY (`unit_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- Dumping data for table logistics.measuring_units: ~5 rows (approximately)
DELETE FROM `measuring_units`;
/*!40000 ALTER TABLE `measuring_units` DISABLE KEYS */;
INSERT INTO `measuring_units` (`unit_id`, `name`, `desc`) VALUES
	(1, 'Ltr', 'Litre'),
	(2, 'KG', 'Kilograms'),
	(3, 'ML', 'Millilitre'),
	(4, 'GMs', 'Grams'),
	(5, 'Net', 'Net quantity');
/*!40000 ALTER TABLE `measuring_units` ENABLE KEYS */;

-- Dumping structure for table logistics.products
CREATE TABLE IF NOT EXISTS `products` (
  `prod_id` int(4) NOT NULL,
  `stock_id` int(11) DEFAULT NULL,
  `quantity` varchar(10) NOT NULL DEFAULT '0',
  `prod_desc` varchar(100) DEFAULT NULL,
  `price_per_unit` double DEFAULT NULL,
  `unit` int(2) NOT NULL,
  `available` int(1) DEFAULT '0',
  `image` mediumblob,
  `max_qty_limit` int(3) DEFAULT NULL,
  PRIMARY KEY (`prod_id`),
  KEY `FK_products_measuring_units` (`unit`),
  KEY `FK_products_stock` (`stock_id`),
  CONSTRAINT `FK_products_measuring_units` FOREIGN KEY (`unit`) REFERENCES `measuring_units` (`unit_id`),
  CONSTRAINT `FK_products_stock` FOREIGN KEY (`stock_id`) REFERENCES `stock` (`stock_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- Dumping data for table logistics.products: ~2 rows (approximately)
DELETE FROM `products`;
/*!40000 ALTER TABLE `products` DISABLE KEYS */;
INSERT INTO `products` (`prod_id`, `stock_id`, `quantity`, `prod_desc`, `price_per_unit`, `unit`, `available`, `image`, `max_qty_limit`) VALUES
	(1, 1, '250ML', NULL, 10, 3, 1, NULL, 5),
	(2, 2, '0', NULL, 10, 2, 1, NULL, 3);
/*!40000 ALTER TABLE `products` ENABLE KEYS */;

-- Dumping structure for table logistics.roles
CREATE TABLE IF NOT EXISTS `roles` (
  `role_id` int(2) NOT NULL,
  `role_name` varchar(10) DEFAULT NULL,
  PRIMARY KEY (`role_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- Dumping data for table logistics.roles: ~2 rows (approximately)
DELETE FROM `roles`;
/*!40000 ALTER TABLE `roles` DISABLE KEYS */;
INSERT INTO `roles` (`role_id`, `role_name`) VALUES
	(1, 'CUST'),
	(2, 'ADMIN');
/*!40000 ALTER TABLE `roles` ENABLE KEYS */;

-- Dumping structure for table logistics.stock
CREATE TABLE IF NOT EXISTS `stock` (
  `stock_id` int(11) NOT NULL,
  `total_qty` int(11) DEFAULT NULL,
  `unit_id` int(11) DEFAULT NULL,
  `name` varchar(20) DEFAULT NULL,
  `description` varchar(100) DEFAULT NULL,
  `image` mediumblob,
  PRIMARY KEY (`stock_id`),
  UNIQUE KEY `name` (`name`),
  KEY `FK_stock_measuring_units` (`unit_id`),
  CONSTRAINT `FK_stock_measuring_units` FOREIGN KEY (`unit_id`) REFERENCES `measuring_units` (`unit_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- Dumping data for table logistics.stock: ~2 rows (approximately)
DELETE FROM `stock`;
/*!40000 ALTER TABLE `stock` DISABLE KEYS */;
INSERT INTO `stock` (`stock_id`, `total_qty`, `unit_id`, `name`, `description`, `image`) VALUES
	(1, 50, 1, 'Milk', 'Fresh milk', _binary 0xFFD8FFE000104A46494600010100000100010000FFDB0084000906071213121212131316151317161512191613130F151218171518171715171715181D2820181A251B151522312225292B2E2E2E171F3338332D37282D2E2B010A0A0A0E0D0E1B10101B2D2220262D2D2D2D302D2D2D2D352F2E2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2F2D2D2D2D2F2D2D2D2D2D2D2B2D2D2D2D2D2D2D2D2D2DFFC000110800A6013003012200021101031101FFC4001B00010002030101000000000000000000000004050203060701FFC40039100002010203060307030303050000000000010203110421510531416192D112719106133281A1B1F022C1E11442725262F1234382A2A3FFC400190101000301010000000000000000000000000304050201FFC400221101000202020203010101000000000000000102031121310412224151138114FFDA000C03010002110311003F00F71000000000000000000000000000000000000008F8BC4781737B8E6D68AC6E5EC44CCEA1BDB0994B2AB7CDBCFE464E0F27F6654FFB3F213FF0FD95C82AE963649D9E6B9EFF0052C28D68C95D3EE58C79AB7E91DF1DABDB6000951800000000000000000000000000000000000000000000000000000000000052EDBADE19C7CB2F52E8ADDBB837385D7C51CFCD71441E4D66D8E621360B445E36ACA725BDF91612C9645061F15C0B5C1E2F869E9F23271DE3A5ECB49EDBE54F2CF79A7C6E2EEB792AAE29320D5A97BDB71DDE62B3BACA3A6E7B85C60B18A6B49715D89472F1AFE169A766BF3D0E8B0B5D4E2A4B8FDF89A1E367FE91A9ED5F3E2F49DC74DC002D2B80000000000000000000000000000000000000000000000006352A28ABB764645163715E293D164910E7CD18EBB4B8B1FBCA6CF687FA57CD987F572D7E88828DB4A8DB3BBFA19FFDF25BED6A7152A90B1B3E5E8674B6A2BDA4ADCD668D57CACAC47AD4CF7FBE4AF313B7918E96E26143B4E2A9D6945356F8A2D34D5A5DB346787A97E269DB5826D2943E28BBDB55C5107058E8F857A73BE867DEDF29968563E2BF854B7EDA9BE73562061E49B4CDD392775C0EE2DC2298E5F7132BAD09DECEE2FF0053A6F8E6BCD7F1F62AEB4CC70157C3569BFF0072BFD89FC7BFADE251E5AFB5261DB800DB650000000000000000000000000000000000000000000006BA95A2B7B21E231D9F863EBD8C69C5EF455BF931BD5794D18B8DD929E262F2BD9BDD7C8E6215736B4C89D896EFC3E7BCA1DAF5FDDDA7C1BCF97333BC9F226F11BFA5EF1F1457AFB5CD3AAB2272AC9AB1CA471B7B344DA18D20A66D24BE2DBA1A695F8113198B8A640FEB7F2E46C4B8C966EDCEF9A24B65DC6A1C5716A772935EB277B1C76DE8FBB97BD5F03694B937B9FEC7453C42592DDCF794FB6E0AA52A917C62FECF3209E566B3A6CC0E36E959931E2F23CD363ED9943F44DFFE5C3E675B86DA1192BDD34793498E1E4FEAEBFAAB9236749CA705AC97DCA453BBDF9179B1EB78251A993B6EBDFC89F05756899E90E49E387A082B307B6613F8BF4BF58FA96499BB5BD6D1B89655AB35EDF40074E400000000000000000000000000000000000029F6B63D6714F25BDFEC48DB18EF770B2F8A592E5AB39993F127CCA5E566D7C23FD5BF1F16FE529F46A26AFF00325D3C45964CA7855B1F258DE7C8CBF7D74B934F658622BA48E63DA3C4274E49A27E231374506DAAB78D882F3EC971C6909E23DD3F0DFF004F0BF0E44DA1B40A0DB18852BA5E453612BE222FC34DF89692BB4BE7C093F9C7D3ADFEBD0A38DB9AA75E5E2DF91CCADA135F153979C5FECC914F6E42D9A92F38B3983D7F17EAAB6F3DC43DBB8C54A8CE57CECE31E727B8AE86D952768A6DF3564527B4EE5387BC93F81AB25BACF2796BCC971D772E2C81469DD67C49983A124F2BAF22AF078B8E5997543695359CA492E6CEA639D490E830157C2AF2CD65BCBFA18B5248F3E9ED4F7B24A17505EAFF0083A5D9359A599C4CCC49EBB8DBA8A153D0B3D9DB59D27679C34D39A39EA35EC6FF0078DBCC9F1E49ACEE115E9168D4BD128D5538A945DD3CCCCE57D90C6B729537B9AF12F35BFE9F63AA35F15FDEBECCCC94F4B6800123800000000000000000000000000000F8D9F4AEDBD89F05276DF2FD3EBBFE8736B7AC4CBAAD7DA74E7B6B62FC751CB82C979221FBF792344EA1F5A56BDECCC3C96999DCB56B1111A6C75481524E377C37F33ECEA1125896579E52437D4AC516DDC45A3727D5AF6DE5363F0F3AD6493F0F8BC3E2B3F0DD2BB57D5269FCCE239B248E236AFD99849E22768EEE32E0BF93BDD9BECF4211492F9BDEF9B367B3BB2234A1149777CCEA68D0C896B136E2115EDEAE62BEC54D356FA159536126AF6B7C8EF3FA6B77206362AC7B38A2B0F2B977D3897B26317E2B1CDED4A6E72F76B77C4FD723BAC7BC9F2391D8B49D49CAA3FEE93B7970FA1E5674EF5B6AC2FB3D06BE05E88DD5BD8FA525F0F85EB1B2F55B99D8617089236C209BCB35AF0E68EE2F6793A79EBD8F2C3CAD2574F7496EFE196786A87598CC1C6707092C9FE26B99C92A0E13707FDAED7D7439989DBAACC697187992DCAEB22BA9B25E1EF7B2CEFC11D52251D97BECA45C6B415EF93BFA33BA287D9AD92E9AF79515A6D651FF004A7AF32F8DAF1E935A72CCCF68B5B80004E84000000000000000000000000000028BDAD4FDDC1FFBBF6FE0BD22ED2C22AB4E50E3BD79ADC7192BED598778EDEB68979E4E56354AB12F158669B4D66B26B4B10E51312F596A56CD75EA6442A92B5B9EA4AAE9A572A2BC9EF6C8A6BA8495E58E3EBA4AFBDF05CF81D17B37B3E5E087BCE1776E09C9DE5E6F767C9145ECF605D6ADE397C10DDFE477B87A7E15B88EB59776B7D25518D9AD3E84DA553911F0CAF66C91526922D638D46D5324EE74D78876CF95B7BB15988A9BC938BAC55622ABCF4FA91DE7729291A8507B413F0D3A8D6F6ACBCDE463ECF613C3049E5CCD1B767E295386B2BFA7E23A0C1C2C97922388DCA6EA12E34F2CBF35338514965BF7E47C6ECB3FA1AEA4DA574C9F48DF66B527EC4D8D87AF19BA9494A4A56F15E49DACB2BA7994B42B7893D6FC74F23B0F66A95A937AC9BFB2FD8B3E2562D7E55FC9B6ABC35C3D96C2AFFB7FFBCFB96184D9D4697C14E317AA59FABCC940D28C758EA21426F69EE4001DB9000000000000000000000000000000000000566D6D92AADE517E19DBE4FCFB9C66330D2849C66ACF9FDF9A3D18D588C3426AD38A92E6932BE5F1E2FCC7129B1E69AF12F30AF1E63667B3757152565E1A3C6A3FAA8AE2FE87A451D95422EF1A504FFC53FB92A4B276D082BE146F7694B3E54EBE30E170F85853CA9AB46ED24B7D96E7CDDB793A92B2FCB91E3349F359193AE66DBB5D8E92A589514B81A2B6238B7FA6DA7D6E46AD8821D4ACF3CFCAE79367B10955EB6857E32ABB646F8C9B4AE30F859569469A56727E8B8B3DAD2665E4DA21CE6D5C1D584A8D79C7FE94EF18BE69E69E97B645BE07117DCCF46ABB3694A8FB89453A7E151B3D16E7E7CCE2B69FB27528B72A57A94FFF00A45735FDDE6BD0B59BC2B57535E50E3F2AB6E2DC34D6C63DD7DFBCC554E2459D26FF003EE6FC160E6E5649BE4AECAD15BCCE93FB4443760E8BF1A4B3BEEC8F40C2D1508462B82FF9FA959B1764FBBFD73F8B82DF6FE4B835BC6C334AEE7B6767CBEF3A80005A57000000000000000000000000000000000000000001A67868BBB77CF494D7D999D3A6A2ACBEEDFDC0CC00071BED0615C2AB6BE197EA5F3DFF0052AE6F34F8EE3BBDA5818D58785E4D669E8FB1CAE2F64D68BF81C96B14E5F6CCCBF23C698B6E3A5FC39E26BA954A94AEF2CB5FE0DAA09F99B234E4B27169FF008B26E0F6355ABC1C23C6534D3F9279B20A61999D4425B6488ED0E9D294A4A115793E0BF371D7EC6D951A316F7CDEF7FB2E46FD9FB3E1455A2B3E327F13F364B34B0F8F14E67B52CB9A6DC474000B281A2AE0E9C9DE508B7AB8C5BF53652A318E518A8AE492FB1983CD43DDC8003D78000000000000000000000000030B4B55D2FB8B4B55D2FB819830B4B55D2FB8B4B55D2FB819830B4B55D2FB8B4B55D2FB819830B4B55D2FB8B4B55D2FB819830B4B55D2FB8B4B55D2FB819830B4B55D2FB8B4B55D2FB819830B4B55D2FB8B4B55D2FB819830B4B55D2FB8B4B55D2FB819830B4B55D2FB8B4B55D2FB819830B4B55D2FB8B4B55D2FB819830B4B55D2FB8B4B55D2FB819830B4B55D2FB8B4B55D2FB819830B4B55D2FB8B4B55D2FB819830B4B55D2FB8B4B55D2FB819830B4B55D2FB8B4B55D2FB819830B4B55D2FB8B4B55D2FB819830B4B55D2FB8B4B55D2FB819830B4B55D2FB8B4B55D2FB819830B4B55D2FB8B4B55D2FB8198000000000000000000000000000000000000000000000000000000000000000000000000000FFFD9),
	(2, 45, 2, 'Vegetable', 'Desc', NULL);
/*!40000 ALTER TABLE `stock` ENABLE KEYS */;

-- Dumping structure for table logistics.users
CREATE TABLE IF NOT EXISTS `users` (
  `mobile_no` varchar(10) NOT NULL,
  `password` varchar(15) DEFAULT 'secret',
  `first_name` varchar(50) DEFAULT NULL,
  `last_name` varchar(10) DEFAULT NULL,
  `address` varchar(70) DEFAULT NULL,
  `roles` varchar(20) DEFAULT NULL,
  `enabled` tinyint(4) DEFAULT '1',
  PRIMARY KEY (`mobile_no`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- Dumping data for table logistics.users: ~3 rows (approximately)
DELETE FROM `users`;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
INSERT INTO `users` (`mobile_no`, `password`, `first_name`, `last_name`, `address`, `roles`, `enabled`) VALUES
	('0987654321', 'akash', 'akash', 'akash', 'Pune', 'CUST', 1),
	('7249040620', 'secret', 'Akash Mulik', NULL, 'Suvidha Apartments', 'CUST', 1),
	('7276840313', 'secret', 'Akash', NULL, 'Suvidha Apartments', 'CUST', 1);
/*!40000 ALTER TABLE `users` ENABLE KEYS */;

/*!40101 SET SQL_MODE=IFNULL(@OLD_SQL_MODE, '') */;
/*!40014 SET FOREIGN_KEY_CHECKS=IF(@OLD_FOREIGN_KEY_CHECKS IS NULL, 1, @OLD_FOREIGN_KEY_CHECKS) */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
